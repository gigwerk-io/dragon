<div class="grid grid-cols-4 mt-10">
  <div
    class="col-span-1"
    cdkDropList
    #fieldsList="cdkDropList"
    [cdkDropListData]="fields"
    [cdkDropListConnectedTo]="[componentsList]"
    class="example-list"
    (cdkDropListDropped)="drop($event)"
  >
    <div *ngFor="let item of fields">
      <div
        *ngIf="item.componentName === 'text'"
        class="rounded bg-white hover:bg-gray-200 cursor-pointer mr-5 h-12 flex items-center pl-4 font-bold text-xl mb-4 border"
        cdkDrag
      >
        <i class="fas fa-font mr-2"></i>
        Text
      </div>
      <div
        *ngIf="item.componentName === 'email'"
        class="rounded bg-white hover:bg-gray-200 cursor-pointer mr-5 h-12 flex items-center pl-4 font-bold text-xl mb-4 border"
        cdkDrag
      >
        <i class="fas fa-envelope mr-2"></i>
        Email
      </div>
      <div
        *ngIf="item.componentName === 'phone'"
        class="rounded bg-white hover:bg-gray-200 cursor-pointer mr-5 h-12 flex items-center pl-4 font-bold text-xl mb-4 border"
        cdkDrag
      >
        <i class="fas fa-phone-alt mr-2"></i>
        Phone Number
      </div>
      <div
        *ngIf="item.componentName === 'number'"
        class="rounded bg-white hover:bg-gray-200 cursor-pointer mr-5 h-12 flex items-center pl-4 font-bold text-xl mb-4 border"
        cdkDrag
      >
        <i class="fas fa-calculator mr-2"></i>
        Number
      </div>
      <div
        *ngIf="item.componentName === 'date'"
        class="rounded bg-white hover:bg-gray-200 cursor-pointer mr-5 h-12 flex items-center pl-4 font-bold text-xl mb-4 border"
        cdkDrag
      >
        <i class="fas fa-calendar-alt mr-2"></i>
        Date
      </div>
      <div
        *ngIf="item.componentName === 'date-time'"
        class="rounded bg-white hover:bg-gray-200 cursor-pointer mr-5 h-12 flex items-center pl-4 font-bold text-xl mb-4 border"
        cdkDrag
      >
        <i class="fas fa-clock mr-2"></i>
        Date-time
      </div>
      <div
        *ngIf="item.componentName === 'textarea'"
        class="rounded bg-white hover:bg-gray-200 cursor-pointer mr-5 h-12 flex items-center pl-4 font-bold text-xl mb-4 border"
        cdkDrag
      >
        <i class="fas fa-align-left mr-2"></i>
        Textarea
      </div>
      <div
        *ngIf="item.componentName === 'paragraph'"
        class="rounded bg-white hover:bg-gray-200 cursor-pointer mr-5 h-12 flex items-center pl-4 font-bold text-xl mb-4 border"
        cdkDrag
      >
        <i class="fas fa-paragraph mr-2"></i>
        Paragraph
      </div>
      <div
        *ngIf="item.componentName === 'checkbox'"
        class="rounded bg-white hover:bg-gray-200 cursor-pointer mr-5 h-12 flex items-center pl-4 font-bold text-xl mb-4 border"
        cdkDrag
      >
        <i class="fas fa-check-square mr-2"></i>
        Checkbox
      </div>
      <div
        *ngIf="item.componentName === 'radio'"
        class="rounded bg-white hover:bg-gray-200 cursor-pointer mr-5 h-12 flex items-center pl-4 font-bold text-xl mb-4 border"
        cdkDrag
      >
        <i class="far fa-circle mr-2"></i>
        Radio Button
      </div>
      <div
        *ngIf="item.componentName === 'select'"
        class="rounded bg-white hover:bg-gray-200 cursor-pointer mr-5 h-12 flex items-center pl-4 font-bold text-xl mb-4 border"
        cdkDrag
      >
        <i class="fas fa-mouse-pointer mr-2"></i>
        Select
      </div>
    </div>
  </div>

  <!-- FORM CONTENT -->

  <div class="col-span-3 bg-white">
    <div class="w-2/3 mx-auto h-10 mt-5">
      <label for="formTitle" class="sr-only">FormBuilder Title</label>
      <div class="relative rounded-md shadow-sm">
        <input
          id="formHeader.formTitle"
          class="form-input block w-full sm:text-sm sm:leading-5"
          [(ngModel)]="formHeader.formTitle"
          placeholder="Enter the title of your form"
        />
      </div>
    </div>
    <div class="w-2/3 mx-auto h-10 mt-5">
      <label for="formTitle" class="sr-only">FormBuilder Title</label>
      <div class="relative rounded-md shadow-sm">
        <input
          id="formHeader.formDescription"
          class="form-input block w-full sm:text-sm sm:leading-5"
          [(ngModel)]="formHeader.formDescription"
          placeholder="Enter form description"
        />
      </div>
    </div>
    <div class="grid grid-cols-1">
      <h4 class="text-xl ml-10 mt-10">
        Drag and drop items below to build your custom application form:
      </h4>
      <div
        #componentContainer
        class="flex justify-center items-center text-gray-400 col-span-2 border-dashed border-2 border-gray-400 mx-20 py-20 mt-10"
        cdkDropList
        #componentsList="cdkDropList"
        [cdkDropListData]="components"
        [cdkDropListConnectedTo]="[fieldsList]"
        class="example-list"
        style="min-height: 40px"
        (cdkDropListDropped)="drop($event)"
      >
        <div
          class="example-box"
          *ngFor="let item of components; let i = index"
          cdkDrag
        >
          <app-text
            *ngIf="item.componentName === 'text'"
            [index]="i"
            [mode]="'edit'"
            [settings]="item.settings"
          ></app-text>
          <app-email
            *ngIf="item.componentName === 'email'"
            [index]="i"
            [settings]="item.settings"
            mode="'edit'"
          ></app-email>
          <app-phone
            *ngIf="item.componentName === 'phone'"
            [index]="i"
            [settings]="item.settings"
            mode="'edit'"
          ></app-phone>
          <app-number
            *ngIf="item.componentName === 'number'"
            [index]="i"
            [settings]="item.settings"
            mode="'edit'"
          ></app-number>
          <app-date
            *ngIf="item.componentName === 'date'"
            [index]="i"
            [settings]="item.settings"
            mode="'edit'"
          ></app-date>
          <app-date-time
            *ngIf="item.componentName === 'date-time'"
            [index]="i"
            [settings]="item.settings"
            mode="'edit'"
          ></app-date-time>
          <app-textarea
            *ngIf="item.componentName === 'textarea'"
            [index]="i"
            [settings]="item.settings"
            mode="'edit'"
          ></app-textarea>
          <app-paragraph
            *ngIf="item.componentName === 'paragraph'"
            [index]="i"
            [settings]="item.settings"
            mode="'edit'"
          ></app-paragraph>
          <app-checkbox
            *ngIf="item.componentName === 'checkbox'"
            [index]="i"
            [settings]="item.settings"
            mode="'edit'"
          ></app-checkbox>
          <app-radio
            *ngIf="item.componentName === 'radio'"
            [index]="i"
            [settings]="item.settings"
            mode="'edit'"
          ></app-radio>
          <app-select
            *ngIf="item.componentName === 'select'"
            [index]="i"
            [settings]="item.settings"
            mode="'edit'"
          ></app-select>
        </div>
      </div>

      <div class="ml-auto" *ngIf="components.length">
        <button
          (click)="submitForm()"
          type="button"
          class="inline-flex submit-button mb-3 items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-50 focus:outline-none focus:border-indigo-300 focus:shadow-outline-indigo active:bg-indigo-200 transition ease-in-out duration-150"
        >
          Submit FormBuilder
        </button>
      </div>
    </div>
  </div>
</div>
